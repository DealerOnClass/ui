"use strict";var Carousel=function(){function t(t){e(),n(t),r(),c(t)}function e(){A.addEventListener("keydown",v),E.addEventListener("mousedown",p),E.addEventListener("mousemove",m),E.addEventListener("mouseup",y),E.addEventListener("mouseleave",g),k.addEventListener("click",i),R.addEventListener("click",l)}function n(t){h=t.carouselHeight||400,x=t.carouselRows||2,_=t.aspectRatio||4/3,b=t.carouselIncrement||500,w=h*_,L=w/x,E.style.height=h+"px",j.style.transform="translateX(0)",j.setAttribute("data-translated",0)}function r(){C=0;for(var t=0;t<q.length;t++)0===t?C+=w:(t-1)%x===0&&(C+=L),0===t?(q[t].style.transform="translateX("+(C-w)+"px)",q[t].style.width=w+"px"):(q[t].style.transform="translateX("+(C-L)+"px)translateY("+t%x*h/x+"px)",q[t].style.width=L+"px")}function a(t){t?j.classList.add("dragging"):j.classList.remove("dragging")}function s(t){X=(j.scrollWidth-A.scrollWidth)*-1,o(t>0?0:t<=X?X:t)}function o(t){W=t,j.style.transform="translateX("+Math.round(t)+"px)",j.setAttribute("data-translated",Math.round(t))}function i(t){t.preventDefault(),Y||s(W-=b)}function l(t){t.preventDefault(),Y||s(W+=b)}function c(){S.style.top=h/2+"px"}function u(t){Y=!0,d()}function d(){C=0;for(var t=0;t<q.length;t++)C+=w/2,q[t].setAttribute("data-init-position",q[t].style.transform),q[t].style.transform="translateX("+C+"px)translateY(50%)",q[t].style.width=w/2+"px"}function f(){for(var t=0;t<q.length;t++)0===t?q[t].style.width=w+"px":q[t].style.width=L+"px",q[t].style.transform=q[t].getAttribute("data-init-position");Y=!1}function p(t){t.preventDefault(),D=!0,H=!0,I=t.pageX,M=0|j.getAttribute("data-translated")}function m(t){Y||H!==!0||(t.pageX-I!==0?(a(!0),s(t.pageX-I+M),D=!1):D=!0)}function y(t){D&&(Y?f():t.target.classList.contains("carousel__image")&&u(t.target)),a(!1),H=!1}function g(t){a(!1),H=!1}function v(t){switch(t.keyCode){case 37:l(t);break;case 39:i(t)}}var h,x,_,w,L,b,X,A=document.body,E=document.querySelector(".js-carousel"),j=document.querySelector(".js-carousel__outer"),q=document.querySelectorAll(".js-carousel__item"),S=document.querySelector(".js-carousel__controls"),k=document.querySelector(".js-carousel__control--next"),R=document.querySelector(".js-carousel__control--prev"),C=0,D=!0,H=!1,I=0,M=0|j.getAttribute("data-translated"),W=0,Y=!1;return{init:t}}();Carousel.init({carouselHeight:400,carouselIncrement:500,carouselRows:2,aspectRatio:4/3});